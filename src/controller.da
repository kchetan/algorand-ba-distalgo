import random

class Controller(process):

    def setupawaitprocesses, lambda_t, context):
        self.ps = processes
        self.lambda_t = lambda_t
        self.context = context

    def run():

        proposerSet = random.sample(ps, nprocs/2)
        send(('Propose',), to=proposerSet)

        if await(False):
            pass
        elif timeout(lambda_t):
            pass
        await(each(p in ps, has=received(('done', p))))
        send(('done',), to=parent())